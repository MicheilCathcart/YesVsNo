<div class="comment {{ comment.vote }}"  ng-click="replyVisible == false ? commentMenuVisible = ! commentMenuVisible : commentMenuVisible = false;">
		
	<div class="commentWrap" style="padding-left:{{ comment.tier * 40 }}px">
		
		<div class="commentTitle">
			<div class="user pull-left">
				{{ comment.user }}
			</div>
			<div class="level pull-right">
				{{ comment.level | level }}{{ comment.level }}
			</div>
			<div class="clearfix"></div>
		</div>
				
		<div class="comment-text">
		{{ comment.comment }}
		</div>
			
		<form ng-show="replyVisible" ng-submit="addReply(comment)">
		
		<div class="form-group">
			<textarea class="form-control replyArea" rows="4" placeholder="Reply" ng-model="userComment"></textarea>
		</div>
		
		<div class="form-group">
			<button type="submit" class="btn btn-default">Reply</button>
			<button type="button" class="btn btn-default" ng-click="replyVisible = false; $event.stopPropagation();">Cancel</button>
		</div>
		
		</form>
		
	</div>
			
	<div ng-show="commentMenuVisible" class="comment-menu">
		<div class="button" ng-click="replyVisible = true; commentMenuVisible = false;">
		<svg width="24px" height="21px">
			<path class="vote-colour" d="M23.29,9.489C21.844,5.964,17.938,4.2,11.571,4.2h-3V0.841
			c0-0.229-0.085-0.426-0.254-0.592C8.147,0.083,7.946,0,7.714,0S7.281,0.083,7.111,0.249L0.254,6.97C0.085,7.136,0,7.332,0,7.561
			c0,0.227,0.085,0.424,0.254,0.59l6.857,6.719c0.17,0.168,0.371,0.25,0.603,0.25s0.433-0.082,0.603-0.25
			c0.169-0.166,0.254-0.361,0.254-0.59v-3.36h3c0.875,0,1.659,0.026,2.351,0.078c0.692,0.054,1.379,0.147,2.062,0.284
			c0.683,0.135,1.277,0.32,1.781,0.557s0.976,0.541,1.412,0.912c0.438,0.373,0.795,0.814,1.072,1.326
			c0.276,0.512,0.493,1.117,0.649,1.818c0.155,0.699,0.235,1.492,0.235,2.375c0,0.48-0.023,1.02-0.067,1.615
			c0,0.053-0.013,0.154-0.034,0.307C21.012,20.346,21,20.461,21,20.54c0,0.133,0.038,0.242,0.114,0.328
			C21.189,20.956,21.295,21,21.428,21c0.144,0,0.269-0.074,0.375-0.223c0.063-0.08,0.121-0.176,0.176-0.289
			c0.053-0.115,0.113-0.246,0.18-0.395s0.113-0.254,0.141-0.314C23.434,17.286,24,15.313,24,13.86
			C24,12.12,23.764,10.662,23.29,9.489"/>
		</svg>
		</div>
		<div class="button arrow" ng-click="commentUp(comment)">
		<svg width="29px" height="14px"><polygon class="vote-colour" points="14.5,0 0,14 29,14"/></svg>
		</div>
		<div class="button arrow" ng-click="commentDown(comment)">
		<svg width="29px" height="14px"><polygon class="vote-colour" points="0,0 14.5,14 29,0"/></svg>
		</div>
	</div>
		
</div>
			
<comment class="replies" comment="comment" user-vote="userVote" ng-repeat="comment in comment.comments | orderBy:'-level'" />